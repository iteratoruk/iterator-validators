language: java
jdk:
- openjdk11
cache:
  directories:
  - "$HOME/.m2/repository"
branches:
  only:
  - master
  - "/^iterator-validators-[0-9]+\\.[0-9]+\\.[0-9]+/"
after_success:
- mvn clean test jacoco:report coveralls:report
- test "${TRAVIS_PULL_REQUEST}" == "false" && test "${TRAVIS_TAG}" != "" && mvn deploy
  --settings settings.xml
env:
  global:
  - secure: UVeLhs6v7CH9bijE8mTGU52OkHT9Nq7Q2hEs81WffNF4ITHgTF8auNB4CNDmNd1RKOdh1v6crlIGn89jWbHNIfZKaYze1Kl3f6MA2q4mGeRmYYnw1n4FBG7Qpmu3npkD7cY4uEW4I+KS97TE0tAj5THkMTZg6zkaiD05xdRhuAdATC34CnqaCu+ky7yyTbmjKCjs3tQ590J0KF3aNOxf+OqjfEJ5x/fR93GidBf4YEm3KhxTMpeynmHL/XL0Kx9O9vMCH93ooI4DF67mCBPlP/mHRkls+623sQYUa6pyQLXlGQfCl25pKJ4tgFIrklzLTJXAGHhkszKypKUibgCpfBvStnb4MFzl6vK7QoClfheQRzlFSPqXJ5Uumd28i6sUeIjzizqJ+meCJm2GV/+6jMIAc5/BwMmjMo5LcVEJ6YgeTg9MQszgXf3TpwPLrHFJZpb3D5d1y1G9KgJqkPB+0+YG8WXPs/fZaXaB5xy1h/a1b+OPnetTwFVQNObOygLny2SsnBb8OWYDrLLov0Lx1W2JlWvjqPIiZdf+acepVDk5MFiDmz/UPUmANTLTkDV7TZu7ahFeVZt3ooFGxgiHI0fjE3x+KPXYO2Kgyd32ck+kpyNXSxMoZxRu7ATtYmDdmH+aMSCTbise3rvdHv1X4iYmjeuYHntGbzlWKD5mYOg=
  - secure: KILLRs+o4HNK5PVd/oLkZ0O7ICwFJeo3x5llzN57OTDYfeHbz4fnf2nilCB/fJkEfXkWepso8nchCqZysIfn389p/Qvnm0iM585RfpAqHrnbdIv6zg/BB0BpXwUtajnvs1rEXoddhuq9xjmO+vCRDUybNZRK+ZIeb1MfBEopyjx95utl2evu/ZRiaJOIZM98cbmonXKtmtQVySYRYPXmO7D8jTbuSyhXCzQOq/rU5oq8kiS8gvwqG0TPTZZi6YHmvXFv6SMyeZRCCYrla3Wi0mYm7djFZY/CJ7GZ1m6lMfPXsc7bn8PGyHYsieioPax8zPa7xP9QRe98t1KcTRmMxB6dL19nAUeyqih/NWEr9P7jgx0t9IulMWXahGYEkXwiTmkO5JmRtiE86yD+V7U7pAQrFdpwzHhFajU9ka8+GJSJ+TJmuj/BGr6M2MlAN49Z5CJeEpMELk/o4i21dHdR4dcHajn4jj5eSzDnuHuz5odXOxlHx2K/eyGiG7Hlq5Q/2DouNndd/iwHI+T3H8TXEtItSEHgu7uYK1Acm3W6MiWzQ2Qu2piRGgIzZdq7uId33X7eD1WifrllVv/dk02bgaufR3Wb/MM0ZMpXoC+VPASu8Owzia0cr00cf9N5HgRe1AWKg+BH7tuOoGXI6kvExawOaEiHcNmzt/Fxur0JUi0=
  - secure: ZU+szZ4nq9rTvdbOMZqv+hbQx34Fj0F40NsmkPF8qhCR9Nyx4R5lr7az6xuVgLnNWk3FgBxRTbDbxC1kANEj2pssQJmfXv+j0lhQRYtlrz/bSi4FFSfF6vg1HNSODXN0dJEr361xoISaCeIIs1bWrBlLRuxfcwWqAeFjNDFoSeemfffDGxJTQxxtr4I2wHT7jM/8FaMnfWPt3F/KIYWB8IkPY1sR2sx6dgMaGTDZaOGsJKutDQeCyMSW5D6Rrg+ai9/9D6d4dgGFcY3SjxQgsHDpwbCW4BI3LQJDBUJZ2dg+eZIlcG4aho1AulQz/DvdjJ8RBbzpPZQAcDAlFT8whTt588yJv3PjVvI+5G2yZ4KWiKjN9gEesHRGY1Dlk/OAMDQyEl54mJLTX+8qrTHch8NG2XG/eVhCV+JB3hHy11mjybg/kYau1o9fmLXmvJDQWaV5DUFSzW8p341QltUlb04Kh0QZH2nw7kK3lMeHhP9T7KI30eiSn5EXaw/DikZY57G+x8WMAbHFJ33p+DEWve/XqKWrCdBxyLIxxevnaM5avynAePXh5VYimpm58Wbw5wOsaB+YWFJ/qXw3oaMwqznbakD87vQtkpF6bM7+YLonQC2MtFWl5KUvf7nS0j1z8LxSgWhDflgMfXksE9JQJ2NG6b7xSoJBISxnBnjo6jk=
addons:
  sonarcloud:
    organization: iteratoruk
    token:
      secure: "PQ7oDXzGNidjFCq7YSh6yzWmLhfdpsEQvNP6pCNgw2RsMq5iNeoq7+C0E1SiT39ulke/89uhB976PuWxmQ2V5nN35xj24rLJXsvoqB1YvKH7j3oD85GX/fRsCdsAtqu0389AOmDEcdGIFuiEPuegz/K8LwTF5uJufHrUjPXLHogHFCJxAMGYNjZ7oYdf44NSAFlaHBnhUIdBOjm1uQd6PAGMHN1OBIO8JTT3vL4UkMbTr3TgwF2vxsU9+egFfQNmKaO129AssINzrfAb7fECN9tWaKhpPTj/X8dAOcEKYBe91RmtPfIOuJMc+t0JKQ8etDjkjQR6bGyfqvyS8mWfKRJshfxSkjNRDGfk+JXTfGXdcIHDe/UpB3+pUsvIXiu41SIA3K3lz+biyM40ltgr6ttJ0YO4wRlS0ESnpZNORn99aylY5pFMf/mL15aB0m5/tNQvEfg+kTmDBimD6S+6uFGptNAGrRQ/OMep6m7xh6t2FZSML9XTBRLgJSuyyHlhHelMM+YNok0oWAwpYgG71Y5wXuOgjP3BNuCsH4mcKvzgp9KtJ7z/Uqx93zR6YH12u6/XszrGNYlhwD4l1uUm2+lvN4Gk5YjblEqUhxYuDtzaF7VmVTiBx7qBSRfVkEjMI9bTSdk7rog3Ev+sdUGvZbcLEk2cuQRMP2z4rG0GfLM="
script:
- mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=iteratoruk_iterator-validators
